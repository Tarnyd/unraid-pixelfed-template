<?xml version="1.0"?>
<Container version="2">
  <Name>Pixelfed-Tarnyd</Name>
  <Repository>tarnyd/pixelfed:latest</Repository>
  <Registry>https://hub.docker.com/r/tarnyd/pixelfed</Registry>
  <Network>br0</Network>
  <MyIP>192.168.1.100</MyIP>
  <Shell>bash</Shell>
  <Privileged>false</Privileged>
  <Support>https://github.com/Tarnyd/unraid-pixelfed-template/issues</Support>
  <Project>https://pixelfed.org/</Project>
  <Overview>Pixelfed is a free and ethical photo sharing platform, a decentralized alternative to Instagram. This template uses a community-built image.&#xD;
&#xD;
**IMPORTANT: ONE-TIME SETUP**&#xD;
After starting the container for the first time, you must run several commands to set up the application.&#xD;
&#xD;
1. Open the container console.&#xD;
2. Run the following commands, one by one:&#xD;
   `chown -R www-data:www-data /var/www/storage /var/www/bootstrap/cache`&#xD;
   `php artisan config:clear`&#xD;
   `php artisan route:clear`&#xD;
   `php artisan view:clear`&#xD;
   `php artisan cache:clear`&#xD;
   `php artisan migrate --force`&#xD;
   `php artisan passport:keys --force`&#xD;
   `php artisan storage:link --force`&#xD;
   `php artisan config:cache`&#xD;
   `php artisan route:cache`&#xD;
   `php artisan view:cache`&#xD;
&#xD;
3. To make your account an administrator (after creating it):&#xD;
   `php artisan user:admin your-username`&#xD;
&#xD;
4. Restart the container after setup.&#xD;
&#xD;
5. After install, then visit your.url/i/actor once to activate federation.&#xD;
&#xD;
Admins can generate invite links (even if they have closed registrations). &#xD;
php artisan admin:invite</Overview>
  <Category/>
  <WebUI>http://[IP]:[PORT:8080]</WebUI>
  <TemplateURL/>
  <Icon>https://raw.githubusercontent.com/Tarnyd/unraid-pixelfed-template/main/pixelfed-icon.png</Icon>
  <ExtraParams/>
  <PostArgs/>
  <CPUset/>
  <DateInstalled/>
  <DonateText/>
  <DonateLink/>
  <Requires>A working MariaDB/MySQL database and a Redis instance.</Requires>
  <Config Name="Web Port" Target="80" Default="8080" Mode="tcp" Description="Port to access the web interface." Type="Port" Display="always" Required="true" Mask="false">8080</Config>
  <Config Name="Storage Path" Target="/var/www/storage" Default="/mnt/user/appdata/pixelfed/" Mode="rw" Description="Path for all persistent data like images, logs, OAuth keys, etc. Note: The container path is /var/www/storage, NOT /app/storage." Type="Path" Display="always" Required="true" Mask="false">/mnt/user/appdata/pixelfed</Config>
  <Config Name="App URL" Target="APP_URL" Default="http://192.168.1.100:8080" Mode="" Description="The full, public URL of your instance (IMPORTANT!). Change to your Unraid server's IP and port." Type="Variable" Display="always" Required="true" Mask="false"></Config>
  <Config Name="App Domain" Target="APP_DOMAIN" Default="192.168.1.100" Mode="" Description="Just the domain/IP address of your instance. Change to your Unraid server's IP." Type="Variable" Display="always" Required="true" Mask="false"></Config>
  <Config Name="App Key" Target="APP_KEY" Default="" Mode="" Description="Is automatically generated by the app if left empty. For extra security, generate one with 'docker exec pixelfed php artisan key:generate --show' and paste it here." Type="Variable" Display="always" Required="false" Mask="true"></Config>
  <Config Name="DB Host" Target="DB_HOST" Default="" Mode="" Description="IP address of your MariaDB/MySQL server." Type="Variable" Display="always" Required="true" Mask="false"></Config>
  <Config Name="DB Port" Target="DB_PORT" Default="3306" Mode="" Description="Port for your MariaDB/MySQL server." Type="Variable" Display="always" Required="true" Mask="false">3306</Config>
  <Config Name="DB Name" Target="DB_DATABASE" Default="pixelfed" Mode="" Description="The name of the database." Type="Variable" Display="always" Required="true" Mask="false">pixelfed</Config>
  <Config Name="DB User" Target="DB_USERNAME" Default="pixelfed" Mode="" Description="The username for the database." Type="Variable" Display="always" Required="true" Mask="false">pixelfed</Config>
  <Config Name="DB Password" Target="DB_PASSWORD" Default="" Mode="" Description="The password for the database user." Type="Variable" Display="always" Required="true" Mask="true"></Config>
  <Config Name="Redis Host" Target="REDIS_HOST" Default="" Mode="" Description="IP address of your Redis server." Type="Variable" Display="always" Required="true" Mask="false"></Config>
  <Config Name="Redis Port" Target="REDIS_PORT" Default="6379" Mode="" Description="Port for your Redis server." Type="Variable" Display="always" Required="true" Mask="false">6379</Config>
  <Config Name="Mail Mailer" Target="MAIL_MAILER" Default="smtp" Mode="" Description="Set to 'smtp' to enable email." Type="Variable" Display="always" Required="true" Mask="false">smtp</Config>
  <Config Name="Mail Host" Target="MAIL_HOST" Default="" Mode="" Description="The address of your SMTP server (e.g., smtp.gmail.com)." Type="Variable" Display="always" Required="false" Mask="false"></Config>
  <Config Name="Mail Port" Target="MAIL_PORT" Default="587" Mode="" Description="The port for your SMTP server (usually 587)." Type="Variable" Display="always" Required="false" Mask="false">587</Config>
  <Config Name="Mail Username" Target="MAIL_USERNAME" Default="" Mode="" Description="Your username for the email server." Type="Variable" Display="always" Required="false" Mask="false"></Config>
  <Config Name="Mail Password" Target="MAIL_PASSWORD" Default="" Mode="" Description="Your password or 'App Password' for the email server." Type="Variable" Display="always" Required="false" Mask="true"></Config>
  <Config Name="Mail Encryption" Target="MAIL_ENCRYPTION" Default="tls" Mode="" Description="Encryption method. Almost always 'tls'." Type="Variable" Display="always" Required="false" Mask="false">tls</Config>
  <Config Name="Mail From Address" Target="MAIL_FROM_ADDRESS" Default="" Mode="" Description="The email address that emails will appear to be from." Type="Variable" Display="always" Required="false" Mask="false">no-reply@example.com</Config>
  <Config Name="Mail From Name" Target="MAIL_FROM_NAME" Default="Pixelfed" Mode="" Description="The name that will appear as the sender." Type="Variable" Display="always" Required="false" Mask="false">Pixelfed</Config>
  <Config Name="PUID" Target="PUID" Default="99" Mode="" Description="" Type="Variable" Display="always" Required="false" Mask="false">99</Config>
  <Config Name="PGID" Target="PGID" Default="100" Mode="" Description="" Type="Variable" Display="always" Required="false" Mask="false">100</Config>
  <Config Name="OPEN_REGISTRATION" Target="OPEN_REGISTRATION" Default="false" Mode="" Description="" Type="Variable" Display="always" Required="false" Mask="false">true</Config>
  <Config Name="ADMIN_DOMAIN" Target="ADMIN_DOMAIN" Default="localhost" Mode="" Description="" Type="Variable" Display="always" Required="false" Mask="false">192.168.1.100</Config>
  <Config Name="SESSION_DOMAIN" Target="SESSION_DOMAIN" Default="localhost" Mode="" Description="" Type="Variable" Display="always" Required="false" Mask="false">localhost</Config>
  <Config Name="DB_CONNECTION" Target="DB_CONNECTION" Default="mysql" Mode="" Description="mysql or pgsql" Type="Variable" Display="always" Required="false" Mask="false">mysql</Config>
  <Config Name="ACTIVITY_PUB" Target="ACTIVITY_PUB" Default="false" Mode="" Description="This core setting enables the ActivityPub protocol on your Pixelfed instance, allowing it to communicate with other servers using ActivityPub. &#13;&#10;" Type="Variable" Display="always" Required="false" Mask="false">true</Config>
  <Config Name="AP_REMOTE_FOLLOW" Target="AP_REMOTE_FOLLOW" Default="false" Mode="" Description="This setting specifically allows users on your Pixelfed instance to follow users on other ActivityPub-enabled servers, and vice versa. &#13;&#10;" Type="Variable" Display="always" Required="false" Mask="false">true</Config>
  <Config Name="AP_INBOX" Target="AP_INBOX" Default="false" Mode="" Description="" Type="Variable" Display="always" Required="false" Mask="false">true</Config>
  <Config Name="AP_OUTBOX" Target="AP_OUTBOX" Default="false" Mode="" Description="" Type="Variable" Display="always" Required="false" Mask="false">true</Config>
  <Config Name="AP_SHAREDINBOX" Target="AP_SHAREDINBOX" Default="false" Mode="" Description="" Type="Variable" Display="always" Required="false" Mask="false">true</Config>
  <Config Name="Redis Client" Target="REDIS_CLIENT" Default="phpredis" Mode="" Description="" Type="Variable" Display="advanced" Required="true" Mask="false">phpredis</Config>
  <Config Name="Image Driver" Target="IMAGE_DRIVER" Default="imagick" Mode="" Description="Use 'imagick' for best quality and features. 'gd' is the fallback." Type="Variable" Display="advanced" Required="true" Mask="false">imagick</Config>
  <Config Name="Session Driver" Target="SESSION_DRIVER" Default="redis" Mode="" Description="Use 'redis' for better performance than 'database" Type="Variable" Display="advanced" Required="true" Mask="false">redis</Config>
  <TailscaleStateDir/>
</Container>
